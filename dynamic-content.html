<!DOCTYPE html><meta charset="utf-8"><title>Dynamic content
 â€“ Maud, a macro for writing HTML</title><link rel="stylesheet" href="styles.css"><meta name="theme-color" content="#808"><meta name="viewport" content="width=device-width"><header><h1><a href=".">maud</a></h1></header><nav><ul><li><a href="getting-started.html">Getting started</a></li><li><a href="basic-syntax.html">Basic syntax</a></li><li><b>Dynamic content</b></li><li><a href="partials.html">Partials</a></li><li><a href="control-structures.html">Control structures</a></li><li><a href="traits.html">The <code>Render</code> trait</a></li><li><a href="web-frameworks.html">Web framework integration</a></li><li><a href="faq.html">Frequently asked questions</a></li></ul><ul><li><a href="https://docs.rs/maud/">API documentation</a></li><li><a href="https://github.com/lambda-fairy/maud">GitHub</a></li></ul></nav><main><h2>Dynamic content</h2><p>Use <code>(foo)</code> syntax to splice in the value of <code>foo</code> at runtime. Any HTML special characters are escaped by default.</p>
<pre style="background-color:#ffeeff;">
<span style="font-weight:bold;color:#a71d5d;">let</span><span style="color:#323232;"> best_pony </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#183691;">&quot;Pinkie Pie&quot;</span><span style="color:#323232;">;
</span><span style="font-weight:bold;color:#a71d5d;">let</span><span style="color:#323232;"> numbers </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#323232;">[</span><span style="color:#0086b3;">1</span><span style="color:#323232;">, </span><span style="color:#0086b3;">2</span><span style="color:#323232;">, </span><span style="color:#0086b3;">3</span><span style="color:#323232;">, </span><span style="color:#0086b3;">4</span><span style="color:#323232;">];
</span><span style="color:#323232;">html! {
</span><span style="color:#323232;">    p { </span><span style="color:#183691;">&quot;Hi, &quot; </span><span style="color:#323232;">(best_pony) </span><span style="color:#183691;">&quot;!&quot; </span><span style="color:#323232;">}
</span><span style="color:#323232;">    p {
</span><span style="color:#323232;">        </span><span style="color:#183691;">&quot;I have &quot; </span><span style="color:#323232;">(numbers.</span><span style="color:#62a35c;">len</span><span style="color:#323232;">()) </span><span style="color:#183691;">&quot; numbers, &quot;
</span><span style="color:#323232;">        </span><span style="color:#183691;">&quot;and the first one is &quot; </span><span style="color:#323232;">(numbers[</span><span style="color:#0086b3;">0</span><span style="color:#323232;">])
</span><span style="color:#323232;">    }
</span><span style="color:#323232;">}
</span></pre>
<p>Arbitrary Rust code can be included in a splice by using a <a href="https://doc.rust-lang.org/reference.html#block-expressions">block</a>. This can be helpful for complex expressions that would be difficult to read otherwise.</p>
<pre style="background-color:#ffeeff;">
<span style="color:#323232;">html! {
</span><span style="color:#323232;">    p {
</span><span style="color:#323232;">        ({
</span><span style="color:#323232;">            </span><span style="font-weight:bold;color:#a71d5d;">let</span><span style="color:#323232;"> f: Foo </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#62a35c;">something_convertible_to_foo</span><span style="color:#323232;">()</span><span style="font-weight:bold;color:#a71d5d;">?</span><span style="color:#323232;">;
</span><span style="color:#323232;">            f.</span><span style="color:#62a35c;">time</span><span style="color:#323232;">().</span><span style="color:#62a35c;">format</span><span style="color:#323232;">(</span><span style="color:#183691;">&quot;%H%Mh&quot;</span><span style="color:#323232;">)
</span><span style="color:#323232;">        })
</span><span style="color:#323232;">    }
</span><span style="color:#323232;">}
</span></pre>
<h3><a href="#splices-in-attributes" aria-hidden="true" class="anchor" id="splices-in-attributes"></a>Splices in attributes</h3>
<p>Splices work in attributes as well.</p>
<pre style="background-color:#ffeeff;">
<span style="font-weight:bold;color:#a71d5d;">let</span><span style="color:#323232;"> secret_message </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#183691;">&quot;Surprise!&quot;</span><span style="color:#323232;">;
</span><span style="color:#323232;">html! {
</span><span style="color:#323232;">    p title</span><span style="font-weight:bold;color:#a71d5d;">=</span><span style="color:#323232;">(secret_message) {
</span><span style="color:#323232;">        </span><span style="color:#183691;">&quot;Nothing to see here, move along.&quot;
</span><span style="color:#323232;">    }
</span><span style="color:#323232;">}
</span></pre>
<p>To concatenate multiple values within an attribute, wrap the whole thing in braces. This syntax is useful for building URLs.</p>
<pre style="background-color:#ffeeff;">
<span style="font-weight:bold;color:#a71d5d;">const </span><span style="color:#0086b3;">GITHUB</span><span style="color:#323232;">: </span><span style="font-weight:bold;color:#a71d5d;">&amp;&#39;static str = </span><span style="color:#183691;">&quot;https://github.com&quot;</span><span style="color:#323232;">;
</span><span style="color:#323232;">html! {
</span><span style="color:#323232;">    a href</span><span style="font-weight:bold;color:#a71d5d;">=</span><span style="color:#323232;">{ (</span><span style="color:#0086b3;">GITHUB</span><span style="color:#323232;">) </span><span style="color:#183691;">&quot;/lambda-fairy/maud&quot; </span><span style="color:#323232;">} {
</span><span style="color:#323232;">        </span><span style="color:#183691;">&quot;Fork me on GitHub&quot;
</span><span style="color:#323232;">    }
</span><span style="color:#323232;">}
</span></pre>
<h3><a href="#what-can-be-spliced" aria-hidden="true" class="anchor" id="what-can-be-spliced"></a>What can be spliced?</h3>
<p>You can splice any value that implements <a href="http://doc.rust-lang.org/std/fmt/trait.Display.html"><code>std::fmt::Display</code></a>. Most primitive types (such as <code>str</code> and <code>i32</code>) implement this trait, so they should work out of the box.</p>
<p>To change this behavior for some type, you can implement the <a href="https://docs.rs/maud/*/maud/trait.Render.html"><code>Render</code></a> trait by hand. The <a href="https://docs.rs/maud/*/maud/struct.PreEscaped.html"><code>PreEscaped</code></a> wrapper type, which outputs its argument without escaping, works this way. See the <a href="./traits.html">traits</a> section for details.</p>
<pre style="background-color:#ffeeff;">
<span style="font-weight:bold;color:#a71d5d;">use </span><span style="color:#323232;">maud::PreEscaped;
</span><span style="font-weight:bold;color:#a71d5d;">let</span><span style="color:#323232;"> post </span><span style="font-weight:bold;color:#a71d5d;">= </span><span style="color:#183691;">&quot;&lt;p&gt;Pre-escaped&lt;/p&gt;&quot;</span><span style="color:#323232;">;
</span><span style="color:#323232;">html! {
</span><span style="color:#323232;">    h1 { </span><span style="color:#183691;">&quot;My super duper blog post&quot; </span><span style="color:#323232;">}
</span><span style="color:#323232;">    (PreEscaped(post))
</span><span style="color:#323232;">}
</span></pre>
</main>